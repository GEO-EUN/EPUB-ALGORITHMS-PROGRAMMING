# 📚 EPUB 문제 해결과 프로그래밍 - 제품 요구사항 명세서 (PRD)

## 🎯 1. 프로젝트 개요

### 1.1 제품 비전
**"프로그래밍 알고리즘의 기본 구조를 인터랙티브하게 학습할 수 있는 하이브리드 전자책"**

### 1.2 제품 목표
- 순차, 선택, 반복 구조의 알고리즘 학습 콘텐츠 제공
- EPUB 3.0과 웹 브라우저에서 동시 접근 가능한 하이브리드 플랫폼
- 인터랙티브 시뮬레이션을 통한 체험형 학습 경험
- 개인 맞춤형 진도 추적 및 성취도 관리

### 1.3 대상 사용자
- **주요**: 프로그래밍 입문자 (중고등학생, 대학생)
- **부차**: 알고리즘 복습이 필요한 개발자
- **교육자**: 프로그래밍 교육을 하는 강사 및 교사

---

## 🏗️ 2. 기술 아키텍처

### 2.1 현재 기술 스택
```
Frontend Framework: Next.js 14+ (React 18+)
UI Library: shadcn/ui + Tailwind CSS
EPUB Standard: EPUB 3.0
Content Format: XHTML 1.1
Styling: CSS 3 + Responsive Design + 별도 구조별 CSS 분리(styles/)
Interactivity: Vanilla JavaScript (ES6+)
Build Tool: Next.js Build System
Package Manager: pnpm
```

### 2.2 아키텍처 구조
```
epub-algorithms/
├── 📱 웹 애플리케이션 (Next.js)
│   ├── app/                    # Next.js App Router
│   ├── components/             # React UI 컴포넌트
│   └── hooks/                  # React Hooks
├── 📖 EPUB 콘텐츠
│   ├── OEBPS/xhtml/           # 콘텐츠 페이지 (index, page1~5, sequential, repetition, selection, programing, qna)
│   ├── OEBPS/css/             # 스타일시트 (style.css, index.css)
│   ├── OEBPS/js/              # 인터랙티브 기능 (quiz.js, visualization.js)
│   ├── OEBPS/images/          # SVG 이미지
│   ├── OEBPS/audio/           # 오디오 (algobook.mp3)
│   ├── OEBPS/nav.xhtml        # 내비게이션
│   └── OEBPS/content.opf      # 메타데이터/manifest/spine
│   └── META-INF/              # EPUB 메타데이터
├── styles/                    # 구조별 분리 CSS (sequential.css, repetition.css, selection.css)
└── 📝 문서화
    └── docs/                   # 프로젝트 문서
```

---

## 🎨 3. 콘텐츠 구조

### 3.1 핵심 학습 모듈

#### 3.1.1 순차 구조 (Sequential)
- **파일**: `sequential.xhtml`
- **학습 목표**: 프로그램의 기본 실행 흐름 이해
- **인터랙티브 요소**: 
  - 단계별 실행 시뮬레이션
  - 변수 값 추적
  - 계산 과정 시각화

#### 3.1.2 선택 구조 (Selection)
- **파일**: `selection.xhtml`
- **학습 목표**: 조건문과 분기 처리 이해
- **시나리오**:
  - 성적 등급 판정 시스템
  - 나이별 분류 시스템
  - 날씨 판단 시스템
  - 숫자 비교 시스템

#### 3.1.3 반복 구조 (Repetition)
- **파일**: `repetition.xhtml`
- **학습 목표**: 루프와 반복 처리 이해
- **시나리오**:
  - 기본 카운팅
  - 구구단 출력
  - 합계 계산
  - 패턴 생성 (등차, 제곱, 피보나치)

### 3.2 보조 콘텐츠
- **소개**: `index.xhtml` - 전체 개요 및 사용법
- **질문과 답변**: `qna.xhtml` - 패들릿 연동 Q&A
- **Flip-Audio Book**: `programing.xhtml` - 오디오북/실습
- **기타**: `page1~5.xhtml` - 단계별 설명

---

## 💻 4. 기능 요구사항

### 4.1 핵심 기능

#### 4.1.1 인터랙티브 시뮬레이션
- **입력 제어**: 사용자 맞춤 데이터 입력
- **시각화**: 플로우차트 기반 알고리즘 실행 과정
- **단계별 실행**: 이전/다음/자동 재생 제어
- **변수 추적**: 실시간 변수 상태 모니터링
- **속도 조절**: 3단계 실행 속도 (느림/보통/빠름)

#### 4.1.2 진도 추적 시스템
```javascript
// 현재 구현된 추적 요소들
- 구조별 완료도 (순차/선택/반복)
- 시뮬레이션별 실행 기록
- 학습 시간 측정
- 성취 배지 시스템
- 연속 학습일 추적
- 데이터 가져오기/내보내기
```

#### 4.1.3 반응형 UI/UX
- **데스크톱**: 최적화된 레이아웃 (1024px+)
- **태블릿**: 적응형 인터페이스 (768px-1023px)
- **모바일**: 터치 최적화 (320px-767px)

### 4.2 EPUB 3.0 규격 준수
- ✅ XHTML 1.1 문법 엄격 준수
- ✅ 메타데이터 완전성 (`content.opf`)
- ✅ 내비게이션 구조 (`nav.xhtml`)
- ✅ 자바스크립트 지원 (`properties="scripted"`)
- ✅ 미디어타입 정의 (`mimetype`)
- ✅ spine/manifest 최신화 및 파일명 영문화
- ✅ 구조별 스타일 분리(styles/)

---

## 👥 5. 사용자 스토리

### 5.1 학습자 관점
```gherkin
Feature: 알고리즘 학습
  As a 프로그래밍 입문자
  I want to 인터랙티브하게 알고리즘을 학습하고 싶다
  So that 프로그래밍 개념을 쉽게 이해할 수 있다

Scenario: 선택 구조 학습
  Given 사용자가 선택 구조 페이지에 접근했을 때
  When 성적 점수를 입력하고 시뮬레이션을 실행하면
  Then 조건 판정 과정을 단계별로 볼 수 있다
  And 최종 등급 결과를 확인할 수 있다
```

### 5.2 교육자 관점
```gherkin
Feature: 교육 도구 활용
  As a 프로그래밍 강사
  I want to 학생들의 학습 진도를 파악하고 싶다
  So that 개별 맞춤 지도를 할 수 있다

Scenario: 진도 현황 모니터링
  Given 학생이 진도 대시보드를 공유했을 때
  When 각 구조별 완료 상태를 확인하면
  Then 어떤 부분이 부족한지 파악할 수 있다
```

---

## 🗓️ 6. 개발 로드맵

### Phase 1: 기반 구조 완성 ✅
- [x] EPUB 3.0 패키징 구조
- [x] Next.js 웹 애플리케이션 기반
- [x] 기본 콘텐츠 3개 구조 (순차/선택/반복)
- [x] XHTML 규격 준수 및 에러 수정

### Phase 2: 인터랙티브 기능 강화 ✅
- [x] 시뮬레이션 엔진 구현
- [x] 진도 추적 시스템
- [x] 반응형 디자인
- [x] 성능 최적화
- [x] 스크립트 로드 안정화
- [x] 전역 변수 중복 선언 문제 해결
- [x] 모든 실습 페이지 정상화

### Phase 3: 콘텐츠 확장 🔄
- [x] 기본 알고리즘 구조 완성 (순차/선택/반복)
- [x] 인터랙티브 실습 환경 구축
- [x] 시뮬레이션 시스템 완성
- [x] 네비게이션 링크 연결
- [x] UI/UX 개선 및 버튼 텍스트 최적화
- [ ] 퀴즈 및 평가 시스템 강화
- [ ] 다국어 지원 (영어)
- [ ] 오디오 내레이션

### Phase 4: 배포 및 유지보수 📋
- [x] Git 버전 관리 시스템 구축
- [x] 코드 품질 관리 및 커밋 이력
- [ ] EPUB 빌드 자동화
- [ ] 웹 배포 파이프라인
- [ ] 사용자 피드백 수집
- [ ] 지속적 개선

---

## 🎯 7. 성능 및 품질 요구사항

### 7.1 성능 기준
- **로딩 시간**: 초기 페이지 로드 < 3초
- **시뮬레이션 응답**: 사용자 액션 반응 < 100ms
- **메모리 사용**: 브라우저 메모리 < 100MB
- **EPUB 크기**: 전체 패키지 < 10MB

### 7.2 호환성 요구사항
```
EPUB 리더:
✅ Apple Books (iOS/macOS)
✅ Adobe Digital Editions
✅ Calibre
✅ Google Play Books
🔄 Amazon Kindle (mobi 변환)

웹 브라우저:
✅ Chrome 90+
✅ Firefox 88+
✅ Safari 14+
✅ Edge 90+
✅ 모든 모바일 브라우저 지원
```

### 7.3 접근성 (Accessibility) ✅
- **키보드 내비게이션**: 모든 기능 키보드 접근 가능
- **스크린 리더**: ARIA 레이블 완전 지원
- **색상 대비**: WCAG 2.1 AA 기준 준수
- **폰트 크기**: 사용자 설정 반영
- **안정적 스크립트 로드**: 모든 브라우저 환경에서 오류 없는 실행

---

## 🔧 8. 기술적 제약사항

### 8.1 EPUB 제약사항
- 외부 리소스 로드 불가 (Self-contained)
- JavaScript 보안 제약 (일부 EPUB 리더)
- CSS 지원 차이 (리더별 상이)

### 8.2 웹 제약사항
- 로컬 스토리지 용량 제한 (5-10MB)
- 브라우저별 JavaScript 엔진 차이
- 모바일 터치 이벤트 처리

---

## 📊 9. 성공 지표 (KPI)

### 9.1 사용자 참여도
- **완주율**: 전체 콘텐츠 80% 이상 완료한 사용자 비율
- **재방문율**: 7일 내 재방문 사용자 비율
- **평균 학습 시간**: 세션당 평균 소요 시간

### 9.2 교육 효과성
- **이해도 향상**: 시뮬레이션 전후 퀴즈 점수 비교
- **오류 감소**: 반복 학습 시 오답률 감소 추이
- **자기주도 학습**: 사용자 설정 데이터 활용 빈도

---

## 🚀 10. 다음 단계

### 10.1 즉시 수행
1. **빌드 시스템 구축**: EPUB 자동 패키징
2. **배포 파이프라인**: GitHub Actions 또는 Vercel
3. **사용자 테스트**: 베타 사용자 피드백 수집

### 10.2 중장기 계획
1. **AI 튜터**: ChatGPT 연동 개인 맞춤 학습 도우미
2. **협업 기능**: 팀 프로젝트 및 코드 리뷰
3. **게임화**: 순위 시스템 및 경쟁 요소

---

## 📝 11. 부록

### 11.1 현재 파일 구조
```
총 콘텐츠 페이지: 12개
- 학습 콘텐츠: 3개 (순차/선택/반복)
- 인터랙티브: 3개 (각 구조별)
- 시뮬레이션: 3개 (각 구조별)
- 보조 페이지: 3개 (소개/용어집/요약)

JavaScript 모듈: 7개
CSS 스타일시트: 4개
UI 컴포넌트: 40+ 개 (shadcn/ui)
```

### 11.2 라이선스
- **콘텐츠**: Creative Commons BY-SA 4.0
- **코드**: MIT License

---

**작성일**: 2025년 06월  
**버전**: 1.0  
**작성자**: AI 개발자 
**검토자**: AI 개발자   

> 이 문서는 프로젝트 진행에 따라 지속적으로 업데이트됩니다. 
